# [아이템 28] 배열보다는 리스트를 사용하라

# 배열과 리스트의 차이

### 배열 = 공변

Sub가 Super의 하위타입이라면 Sub[]은 Super[]의 하위타입이 된다.

서로 다른 타입의 배열을 하위타입으로 인식해버리면 **컴파일 시 오류가 안나고 런타임 오류**가 난다.

### 리스트 ≠ 공변

List<Sub>는 List<Super>의 하위타입이 아니다. 

### 배열 ⇒ 실체화 : 런타임에도 원소 타입 확인

### 리스트 ⇒ 런타임시에는 타입 확인 소거

소거는 제네릭이 지원되기 전의 레거시 코드와 제네릭 타입을 함께 사용할 수 있게 해주는 매커니즘

실체화되는 타입은 **비한정적 와일드카드 타입뿐**

**배열은 제네릭 타입, 매개변수화 타입, 타입 매개변수로 사용할 수 없다.** 

제네릭 배열을 만들지 못하게 막은 이유는 타입이 안전하지 않기 때문이다. (배열의 공변 때문에)

이를 허용하면 컴파일러가 자동 생성한 형변환 코드에서 런타임에 오류가 난다. 

**배열로 형변환 할 때 제네릭 배열 생성 오류나 비검사 형변환 경고가 뜨는 경우 대부분은 E[]에서 List<E>로 사용하면 해결된다.**
