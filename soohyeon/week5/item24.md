# 아이템 24 멤버 클래스는 되도록 static으로 만들어라

<aside>
💡 멤버 클래스는 되도록 정적 멤버 클래스로 만들어라

</aside>

**중첩 클래스(nested class)**란 다른 클래스 안에 정의된 클래스를 의미한다. 중첩 클래스는 자신을 감싼 바깥 클래스에서만 쓰여야 하며, 그 외의 쓰임새가 있다면 **톱 레벨 클래스**로 만들어야 한다. 

### 톱레벨 클래스란?

여태까지 일반적으로 사용해왔던 클래스이다. 가장 바깥에 존재하는 클래스이기 때문에 top level이라는 이름이 붙여졌다. 내부 클래스, 즉 내부에 클래스가 존재하는 클래스와 구분하기 위해 붙여진 이름이기 때문에 어렵게 생각할 필요없다. 

아래는 중첩클래스의 종류를 정리한 그림이다. 중첩 클래스에는 1. 정적 멤버 클래스, 2. 비 정적 멤버 클래스, 3. 익명 클래스, 4. 지역 클래스가 있다. 이 중 1을 제외한 나머지 클래스는 내부 클래스라고 한다. 

![클래스 분류](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/bb09931d-7481-4d97-8eba-de2f77728979/Untitled.png)

클래스 분류

위 멤버 클래스와 내부 클래스의 교집합이 아닌 부분이 정적 멤버 클래스가 된다. 

![클래스 종류 - 직접그림...ㅎㅎ](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/50b938fa-e95d-4e41-8b6d-b4c4b5a388f8/Untitled.png)

클래스 종류 - 직접그림...ㅎㅎ

[자바의 내부클래스(Nested Classes)](http://alecture.blogspot.com/2011/05/nested-classes.html)

참고한 블로그

<aside>
💡 각 중첩 클래스를 **언제**, 그리고 **왜** 사용하는지 알아보자

</aside>

# 01 정적 멤버 클래스

> 정적 멤버 클래스는 1. **다른 클래스 안에 선언**되고, 2. **바깥 클래스의 private 멤버에도 접근**할 수 있다는 점만 제외하고는 일반 클래스와 똑같다.
> 

정적 멤버 클래스는 다른 정적 멤버와 똑같은 접근 규칙을 적용받는다. 예를 들면 private으로 선언하면 바깥 클래스에서만 접근할 수 있는 것이 있다. 

***정적 멤버 클래스는 바깥 클래스와 함께 쓰일 때만 유용한 public 도우미 클래스로 쓰인다.*** 

```java
public class Main {
    private int x = 10;

    private static class InnerClass {
        void test() {
            Main outerClass = new Main();
            outerClass.x = 100;
        }
    }
}
```

- 클래스 안쪽에 static 클래스를 선언하여 바깥 클래스를 사용할 때 클래스를 자동으로 생성한다.
- 바깥 클래스를 사용할 때 자연스럽게 사용되기 때문에 **헬퍼 클래스**라고도 한다.
- 매번 바깥 클래스를 호출할 때마다 내부 클래스를 재생성하는 것은 메모리 효율에 좋기 않기 때문에 내부 클래스에서 바깥 객체에 접근할 필요가 없는 클래스의 경우 static을 붙여 생성시키고 쓴다.
- 이 경우 정적 멤버 클래스는 바깥 클래스의 모든 변수에 접근이 가능하다. private으로 만들어졌다고 하더라도 가능하다.

# 02 비정적 멤버 클래스

> 비정적 멤버 클래스는 바깥 클래스의 인스턴스와 암묵적으로 연결된다.
> 

위에서 말한 특징 때문에 비정적 멤버 클래스의 인스턴스 메서드에서 this를 사용하여 바깥 인스턴스의 메서드를 호출하거나 바깥 인스턴스의 참조를 가져올 수 있다.

```java
public class Main {

    void Hello(){
        System.out.println("Hello");
    }
    
    private class InnerClass {
        void test() {
            Main.this.Hello(); //this로 가져오기
        }
    }
}
```

- 비 정적 멤버 클래스는 정적 멤버 클래스와 다르게 바깥 클래스의 존재 없이는 존재할 수 없는 클래스이다. 때문에 이 클래스만 독립적으로 존재하도록 하고 싶다면 중첩 클래스는 반드시 static을 붙여줘야 한다.
- 비정적 멤버 클래스의 인스턴스와 바깥 인스턴스 사이의 관계는 멤버 클래스가 인스턴스화 될 때 확립되며, 더 이상 변경할 수 없다.
